{% extends "base.html" %}

{% block title %}{{ book }} - Authorized King James Version (KJV) Bible{% endblock %}
{% block description %}Read {{ book }} from the Authorized King James Version (KJV) Bible. Browse all chapters of {{ book }} with enhanced readability and navigation tools.{% endblock %}
{% block keywords %}{{ book }}, {{ book }} KJV, {{ book }} King James Version, Authorized King James Version, KJV Bible, {{ book }} chapters{% endblock %}

{% block head %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
<style>
.commentary-section p {
    font-family: 'EB Garamond', Georgia, serif;
    font-size: 1.375rem;
    line-height: 1.9;
    margin-bottom: 1.5rem;
    color: white;
    font-feature-settings: 
        "liga" 1,
        "dlig" 1,
        "kern" 1,
        "onum" 1;
    text-rendering: optimizeLegibility;
}

.commentary-section li {
    font-family: 'EB Garamond', Georgia, serif;
    font-size: 1.25rem;
    line-height: 1.8;
    color: white;
}

.commentary-section strong {
    color: white;
    font-weight: 600;
}

.commentary-section em {
    color: rgba(255, 255, 255, 0.9);
    font-style: italic;
}
</style>
{% endblock %}

{% block schema_type %}Book{% endblock %}
{% block structured_data %},
        "name": "{{ book }} - Authorized King James Version",
        "numberOfPages": {{ chapters|length }},
        "bookFormat": "EBook",
        "inLanguage": "en-US",
        "genre": "Religious Text",
        "isPartOf": {
            "@type": "Book",
            "@id": "https://schema.org/Bible",
            "name": "Authorized King James Version Bible",
            "alternateName": ["KJV Bible", "King James Bible"]
        },
        "hasPart": [
            {% for chapter in chapters %}
            {
                "@type": "Chapter",
                "name": "{{ book }} {{ chapter }}",
                "position": {{ chapter }},
                "url": "{{ request.url_root }}book/{{ book }}/chapter/{{ chapter }}"
            }{% if not loop.last %},{% endif %}
            {% endfor %}
        ]{% endblock %}

{% block breadcrumb %}
<div class="container">
    <nav class="breadcrumb">
        <a href="/">üìö All Books</a>
        <span class="breadcrumb-separator">/</span>
        <span>{{ book }}</span>
    </nav>
</div>
{% endblock %}

{% block content %}
<div class="text-center mb-4">
    <h1 class="section-title">{{ book }} - Authorized King James Version (KJV)</h1>
    <p style="font-size: 1rem; color: var(--text-secondary);">
        Select a chapter to begin reading {{ book }} from the KJV Bible
    </p>
    <a href="/book/{{ book }}/commentary" class="nav-button nav-button-primary" style="display: inline-block; margin-top: 1rem;">
        View Complete {{ book }} Commentary
    </a>
</div>

<div class="chapter-grid">
    {% for chapter in chapters %}
    <a href="/book/{{ book }}/chapter/{{ chapter }}" class="chapter-link">
        {{ chapter }}
    </a>
    {% endfor %}
</div>

<div class="commentary-container" style="margin-top: 3rem;">
    <div class="commentary-section" style="background: var(--surface-color); border-radius: var(--radius-lg); padding: 2rem; border: 1px solid var(--border-light); box-shadow: var(--shadow-sm); color: white;">
        <h2 style="color: white; margin-top: 0; padding-bottom: 0.5rem; border-bottom: 2px solid var(--border-light); font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 1.5rem;">
            üìö Commentary on {{ book }}
        </h2>
        
        <div style="margin-bottom: 2rem;">
            <h3 style="color: white; font-family: 'Playfair Display', serif; font-size: 1.75rem; margin: 2rem 0 1rem 0;">Introduction</h3>
            {{ introduction|safe }}
        </div>
        
        <div style="margin-bottom: 2rem;">
            <h3 style="color: white; font-family: 'Playfair Display', serif; font-size: 1.75rem; margin: 2rem 0 1rem 0;">Historical Context</h3>
            {{ historical_context|safe }}
        </div>
        
        <div style="margin-bottom: 2rem;">
            <h3 style="color: white; font-family: 'Playfair Display', serif; font-size: 1.75rem; margin: 2rem 0 1rem 0;">Major Themes</h3>
            {{ themes|safe }}
        </div>
        
        <div style="margin-bottom: 2rem;">
            <h3 style="color: white; font-family: 'Playfair Display', serif; font-size: 1.75rem; margin: 2rem 0 1rem 0;">Key Passages</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                {% for highlight in highlights %}
                <div style="background: rgba(255, 235, 59, 0.1); border-radius: var(--radius-md); padding: 1.25rem; border-left: 4px solid var(--accent-color);">
                    <h4 style="font-weight: 600; margin: 0 0 0.5rem; color: white;">{{ highlight.reference }}</h4>
                    <p style="margin: 0; color: white; line-height: 1.5; font-size: 1.2rem;">{{ highlight.description }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-light);">
            <a href="/book/{{ book }}/commentary" class="nav-button nav-button-primary" style="display: inline-block; font-size: 1.1rem; padding: 0.75rem 1.5rem;">
                Read Complete {{ book }} Commentary
            </a>
            <p style="color: rgba(255, 255, 255, 0.8); margin-top: 1rem; font-style: italic; font-size: 0.9rem;">
                "Study to shew thyself approved unto God, a workman that needeth not to be ashamed, rightly dividing the word of truth."
                <br>
                <strong style="color: #ff6b6b;">2 Timothy 2:15</strong>
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block navigation %}
<div class="container">
    <div class="navigation">
        <a href="/" class="nav-button">
            ‚Üê All Books
        </a>
        <div style="color: var(--text-muted); font-size: 0.875rem;">
            {{ chapters|length }} chapters in {{ book }} (KJV)
        </div>
    </div>
</div>
{% endblock %}